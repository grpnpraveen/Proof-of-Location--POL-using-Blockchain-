"use strict";Vue.component("ow-location",{_scopeId:"data-v-6f840f44",owCSS:'.icon-container[data-v-6f840f44]{padding:6px 11px;color:#bbb}.far-right .icon-container[data-v-6f840f44]{padding:6px 0 0}.top-icon-container[data-v-6f840f44]{padding:4px 10px;color:#bbb}.name[data-v-6f840f44]{font-size:16px;font-weight:400;color:#000;height:21px;line-height:21px}.address[data-v-6f840f44],.name[data-v-6f840f44]{text-transform:capitalize;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.address[data-v-6f840f44]{font-size:14px;color:#a2a2a2;xheight:27px;line-height:17px;padding-right:10px}.results.row[data-v-6f840f44]{height:56px}.results.value[data-v-6f840f44]{line-height:40px;font-size:16px}.results-row[data-v-6f840f44]{xpadding-top:20px;-webkit-overflow-scrolling:touch;max-height:252px;display:block;overflow:scroll}#addressInput[data-v-6f840f44]{outline:none;padding:0 15px 0 0;font-size:16px;width:100%;xtop:64px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;box-sizing:border-box;border:none}@keyframes rotate{to{transform:rotate(1turn)}}.circular[data-v-6f840f44]{animation:rotate 2s linear infinite;height:24px;position:relative;width:20px!important}.erase[data-v-6f840f44]{color:#bbb}[data-v-6f840f44]{box-sizing:border-box;outline:none}[data-v-6f840f44]::selection{background:none}[data-v-6f840f44]::-ms-clear{display:none}[data-v-6f840f44]:not(input):not(textarea):not(button){-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,.1)}.ola-ripple[data-v-6f840f44]{position:relative;overflow:hidden;xtransform:translateZ(0)}.ola-ripple[data-v-6f840f44]:after{content:"";display:block;position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none;background-image:radial-gradient(circle,#acacac 10%,transparent 10.01%);background-repeat:no-repeat;background-position:50%;transform:scale(10);opacity:0;transition:transform .5s,opacity 1s}.ola-ripple[data-v-6f840f44]:active:after{transform:scale(0);opacity:.2;transition:0s}@keyframes placeHolderShimmer{0%{background-position:-300px 0}to{background-position:500px 0}}img[data-v-6f840f44],svg[data-v-6f840f44]{max-width:100%}.bg-white[data-v-6f840f44]{background:#fff}.card[data-v-6f840f44]{position:relative;xpadding:0 px;border:1px solid #e5e5e5;margin:8px 0;border-radius:4px}.mt-0[data-v-6f840f44]{margin-top:0!important}.left[data-v-6f840f44]{position:absolute;width:64px;padding-left:8px}.middle[data-v-6f840f44]{position:absolute;left:64px;right:46px}.far-right[data-v-6f840f44]{position:absolute;width:40px;right:0;text-align:center;line-height:40px}.h-full[data-v-6f840f44]{height:100%;line-height:40px;top:0}.h-full input[data-v-6f840f44]{height:100%}.row .h-full[data-v-6f840f44]{line-height:48px}.row[data-v-6f840f44]{display:block;height:48px;line-height:28px;position:relative;padding:8px 0}.text[data-v-6f840f44]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.label[data-v-6f840f44]{font-size:10px;color:#898989}.label.lg[data-v-6f840f44]{font-size:12px}.value[data-v-6f840f44]{font-size:15px;color:#000}.divider[data-v-6f840f44]{height:1px;background:#e5e5e5}.divider[data-v-6f840f44]:last-of-type{display:none}.ola-svg[data-v-6f840f44]{pointer-events:none;display:inline-block;width:24px;height:24px;fill:currentcolor;stroke:none}.divider.center[data-v-6f840f44]{margin:0 8px}[hidden][data-v-6f840f44]{display:none!important}[invisible][data-v-6f840f44]{visibility:hidden!important}.center[data-v-6f840f44]{text-align:center}@media (min-height:550px) and (min-width:550px){.ptr[data-v-6f840f44],button[data-v-6f840f44]{cursor:pointer}}',render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ow-location"}},[a("ow-ajax",{attrs:{trigger:t.getAutocomplete,url:"/widget-api/search/autocomplete",params:t.autoCompleteParams},on:{error:t.getAutocompleteErrorCB,success:t.getAutocompleteSuccessCB}}),t._v(" "),a("ow-ajax",{attrs:{trigger:t.getPlace,url:"/widget-api/search/place",params:t.placeParams},on:{error:t.getPlaceErrorCB,success:t.getPlaceSuccessCB}}),t._v(" "),a("ow-geo",{attrs:{active:t.needCurrentLocation},on:{"geo-success":t.updateLocation,"geo-error":t.locationError}}),t._v(" "),a("div",{staticClass:"card bg-white mt-0"},[a("div",{staticClass:"row search"},[a("div",{staticClass:"left"},[t.hideLabel?t._e():a("div",{staticClass:"left h-full text label"},[t._v(t._s(t.label))]),t._v(" "),a("div",{staticClass:"top-icon-container"},[a("svg",{staticClass:"ola-svg",attrs:{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"}},[a("g",[a("path",{attrs:{d:"M15.85 15.04l4.95 5.04-.7.7-5.02-5.1C13.93 16.52 12.52 17 11 17c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7c0 1.98-.82 3.77-2.15 5.04zM11 16c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z"}})])])])]),t._v(" "),a("div",{staticClass:"middle text value h-full"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{id:"addressInput",type:"text",placeholder:t.placeHolder,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"far-right",attrs:{id:"removeText"}},[t.showLoader&&t.query.length||t.needCurrentLocation?t._e():a("div",{staticClass:"top-icon-container",on:{click:t.emptyText}},[a("svg",{staticClass:"ola-svg erase",attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentColor",d:"M12 11.43L8.66 8.1l-.57.56L11.42 12 8.1 15.34l.56.57L12 12.58l3.34 3.34.57-.56L12.58 12l3.34-3.34-.56-.57L12 11.42zm7.6-1.9c.53 1.6.53 3.34 0 4.95-.37 1.16-1.02 2.26-1.94 3.18-.92.92-2.02 1.57-3.18 1.95-1.6.53-3.35.53-4.96 0-1.16-.37-2.25-1.02-3.18-1.94-.92-.93-1.57-2.02-1.95-3.18-.53-1.6-.53-3.35 0-4.96.37-1.16 1.02-2.26 1.94-3.18.93-.92 2.02-1.57 3.18-1.95 1.6-.53 3.35-.53 4.96 0 1.16.37 2.26 1.02 3.18 1.94.92.92 1.57 2.02 1.95 3.18z"}})])]),t._v(" "),t.showLoader||t.needCurrentLocation?a("div",{staticClass:"top-icon-container"},[a("svg",{staticClass:"circular ola-svg",attrs:{viewBox:"0 0 24 24"}},[a("circle",{staticClass:"path",attrs:{r:"10",fill:"none","stroke-width":"1","stroke-miterlimit":"10",cx:"12",cy:"12"}})])]):t._e()])])]),t._v(" "),a("div",{staticClass:"results-row"},[t.showCurrent?a("div",{staticClass:"card bg-white"},[a("div",{staticClass:"row current ola-ripple ptr",on:{click:t.getCurrentLocation}},[a("div",{staticClass:"left text value"},[a("div",{staticClass:"top-icon-container"},[a("svg",{staticClass:"ola-svg",attrs:{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"}},[a("g",[a("path",{attrs:{d:"M12 17.07c1.4 0 2.6-.5 3.6-1.48.98-1 1.47-2.2 1.47-3.6s-.5-2.6-1.48-3.6c-1-.98-2.2-1.47-3.6-1.47s-2.6.5-3.6 1.48c-.98 1-1.47 2.2-1.47 3.6s.5 2.6 1.48 3.6c1 .98 2.2 1.47 3.6 1.47zm6.5-5.78H20v1.4h-1.5c-.16 1.54-.78 2.84-1.87 3.93-1.1 1.1-2.4 1.7-3.92 1.87V20h-1.4v-1.5c-1.54-.16-2.84-.78-3.93-1.87-1.1-1.1-1.7-2.4-1.87-3.92H4v-1.4h1.5c.16-1.54.78-2.84 1.87-3.93 1.1-1.1 2.4-1.7 3.92-1.87V4h1.4v1.5c1.54.16 2.84.78 3.93 1.87 1.1 1.1 1.7 2.4 1.87 3.92zM12 9.1c.8 0 1.48.3 2.04.86.57.56.85 1.25.85 2.04 0 .8-.3 1.48-.86 2.04-.56.57-1.25.85-2.04.85-.8 0-1.48-.3-2.04-.86-.57-.56-.85-1.25-.85-2.04 0-.8.3-1.48.86-2.04.56-.57 1.25-.85 2.04-.85z"}})])])])]),t._v(" "),a("div",{staticClass:"middle text value",staticStyle:{"padding-top":"1px"}},[t._v("Current Location")])])]):t._e(),t._v(" "),t._l(t.locations,function(e){return a("div",{key:e.id,staticClass:"card bg-white"},[t._l(e.list,function(e){return a("div",{key:e.id,staticClass:"row results ola-ripple ptr"},[a("div",{staticClass:"left text",on:{click:function(a){t.selectTag(e)}}},[a("div",{staticClass:"icon-container"},[a("svg",{staticClass:"ola-svg",attrs:{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"}},[a("g",[a("path",{attrs:{d:t._renderSVG(e.type)}})])])])]),t._v(" "),a("div",{staticClass:"middle text",on:{click:function(a){t.selectTag(e)}}},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"address"},[t._v(t._s(e.address))])])])}),t._v(" "),a("div",{staticClass:"divider center"})],2)})],2),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{margin:"10px auto 10px"},attrs:{src:"https://developers.google.com/places/documentation/images/powered-by-google-on-white.png"}})])}],name:"ow-location",data:function(){return{showModal:!0,query:"",showLoader:!1,loaderMessage:"Fetching places",getAutocomplete:"dormant",getPlace:"dormant",locations:[],placeId:"",needCurrentLocation:!1,selectedPlace:{}}},props:{cancelText:{type:String,default:"CANCEL"},locationType:{type:String,default:"pickup"},placeHolder:{type:String,default:"Enter address..."}},computed:{autoCompleteParams:function(){return{query:this.query,lat:this.fromLat||"",lng:this.fromLng||"",serviceType:this.serviceType,tag:"pickup"==this.locationType?"PICKUP":"DROP"}},placeParams:function(){return{placeId:this.placeId}},showMapIcon:function(){return this.isCurrent&&this.lat},ll:function(){return this.fromLat&&this.fromLng?this.fromLat+","+this.fromLng:""},showCurrent:function(){return"pickup"==this.locationType&&!this.query}},watch:{query:function(t){this.fetchPlaces()}},methods:{isFavourite:function(t){return"HOME"==t||"WORK"==t||"OTHER"==t},getAutocompleteErrorCB:function(t){this.showLoader=!1,this.getAutocomplete="dormant"},getAutocompleteSuccessCB:function(t){this.showLoader=!1;var e=t.response.data;e&&e.length>=1?this.locations=e:this.locations=[],this.getAutocomplete="dormant"},getPlaceErrorCB:function(){this.showLoader=!1,this.selectedPlace=null,this.getPlace="dormant"},getPlaceSuccessCB:function(t){if(this.showLoader=!1,t.response.data){var e=t.response.data;if(e){var a={detail:{formattedAddress:this.selectedPlace?this.selectedPlace.name+", "+this.selectedPlace.address:e.formattedAddress,lat:e.lat,lng:e.lng,tagged:!1}};a.detail.type="address",this.locationChanged(a),this.getPlace="dormant"}}},emptyText:function(){this.query=""},_renderSVG:function(t){return"home"==(t=t.toLowerCase())?"M10.4 18.6v-4.8h3.2v4.8h4v-6.4H20L12 5l-8 7.2h2.4v6.4":"work"==t?"M19.34 7.96c.92 0 1.66.72 1.66 1.6v8.83c0 .88-.74 1.6-1.66 1.6H4.66C3.74 20 3 19.28 3 18.4V9.56c0-.9.74-1.6 1.66-1.6h3.7v-1.4c0-.86.72-1.57 1.62-1.57H14c.92 0 1.65.7 1.65 1.58v1.38h3.7zm-8.9-1.25v1.24h3.08V6.7c0-.07-.06-.14-.13-.14h-2.85c-.07 0-.12.07-.12.15z":"places"==t?"M12 3c1.67 0 3.08.56 4.25 1.7C17.42 5.8 18 7.17 18 8.8c0 1.33-.5 3-1.5 5.05-1 2.03-2 3.73-3 5.1L12 21l-1.67-2.27c-.66-.92-1.55-2.48-2.66-4.66C6.57 11.9 6 10.13 6 8.8c0-1.62.58-3 1.75-4.1C8.92 3.55 10.33 3 12 3zm0 7.67c.56 0 1.02-.18 1.4-.54.37-.36.56-.8.56-1.34 0-.55-.2-1-.56-1.36-.38-.36-.84-.54-1.4-.54-.56 0-1.02.18-1.4.54-.37.36-.56.8-.56 1.35 0 .52.2.97.56 1.33.38.36.84.54 1.4.54z":"recent"==t?"M12 4.5c4.14 0 7.5 3.36 7.5 7.5 0 4.14-3.36 7.5-7.5 7.5-4.15 0-7.5-3.36-7.5-7.5 0-4.14 3.35-7.5 7.5-7.5zM12 6c-3.32 0-6 2.7-6 6s2.68 6 6 6c3.3 0 6-2.7 6-6s-2.7-6-6-6zm.38 2.25v3.94l3.37 2-.56.9-3.95-2.35v-4.5h1.13z":"M12 5.7C11.13 4.67 9.8 4 8.4 4 5.94 4 4 5.98 4 8.5c0 3.1 2.72 5.6 6.84 9.43L12 19l1.16-1.08C17.28 14.1 20 11.6 20 8.5 20 5.98 18.06 4 15.6 4c-1.4 0-2.73.66-3.6 1.7z"},locationChanged:function(t){t&&t.hasOwnProperty("detail")&&("pickup"==this.locationType?this.$store.commit("SET_FROM_LOCATION",t.detail):"drop"==this.locationType&&this.$store.commit("SET_TO_LOCATION",t.detail)),this.$emit("close")},fetchPlaces:function(){this.showLoader=!0,this.loaderMessage="Fetching addresses...",this.getAutocomplete="fire"},selectTag:function(t){if("PLACES"==t.type)this.showLoader=!0,this.placeId=t.placeId,this.selectedPlace=t,this.getPlace="fire";else{var e=this.isFavourite(t.type),a={detail:{formattedAddress:e?t.name:t.name+", "+t.address,lat:t.lat,lng:t.lng,tagged:e,type:"address"}};this.locationChanged(a)}},getCurrentLocation:function(){this.$store.commit("SET_FROM_LOCATION",{formattedAddress:"Current location",lat:location.latitude,lng:location.longitude,type:"current"}),this.$emit("close")},updateLocation:function(t){this.showLoader=!1,this.needCurrentLocation=!1,this.$store.commit("SET_FROM_LOCATION",{formattedAddress:"Current location",lat:t.latitude,lng:t.longitude,type:"current"}),this.$emit("close")},locationError:function(t){this.showLoader=!1,this.needCurrentLocation=!1}},mounted:function(){this.showLoader=!1,this.getAutocomplete="fire"},directives:{focus:{inserted:function(t){t.focus()}}}});
//# sourceMappingURL=../sourcemap/ow-components/ow-location.b0a4a2ee.js.map
