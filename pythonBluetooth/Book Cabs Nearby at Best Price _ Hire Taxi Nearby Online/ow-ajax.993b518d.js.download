"use strict";Vue.component("ow-ajax",{render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[],name:"ow-ajax",props:["method","url","body","params","trigger"],methods:{rxReadCookie:function(e){var t=new RegExp(e+"=([^;]+)\\;?","i").exec(document.cookie?unescape(document.cookie):"");return t?t[1]:""},responseHandler:function(e,t,s){var r=!1;switch(s.toLowerCase()){default:break;case"post":case"put":r=200===t.status||201||202;break;case"get":case"delete":r=200===t.status}r?e.$emit("success",{response:t.response,status:t.status}):e.$emit("error",{xhr:t})},makeXHR:function(){var e=this,t=this,s=Object.keys(this.params||{}).reduce(function(t,s,r){return 0===r?t+"?"+s+"="+e.params[s]:t+"&"+s+"="+e.params[s]},this.url),r=this.method||"GET",a=new XMLHttpRequest;a.open(r||"GET",s),a.responseType="json",a.timeout=18e3;var n={"X-Requested-With":"XMLHttpRequest","csrf-token":this.rxReadCookie("XSRF-TOKEN")};Object.keys(n).forEach(function(e){return a.setRequestHeader(e,n[e])}),a.addEventListener("readystatechange",function(){this.readyState===XMLHttpRequest.DONE&&t.responseHandler(t,this,r)}),a.send(JSON.stringify(this.body))}},watch:{trigger:function(e){switch(e){case"fire":this.makeXHR()}}}});
//# sourceMappingURL=../sourcemap/ow-components/ow-ajax.993b518d.js.map
